TCP 연결 시 base 계층

- 물리적 계층에서 Link up 됨
- 커널 모드에서 가상 회로의 연결이 성립됨

LAN 케이블을 뽑으면?!

- 네트워크 충격 발생, 물리적 계층의 Link가 Down됨
- cf : 무선 연결에서는 기지국 바뀌면서 빈번하게 네트워크 충격 발생.
- 그래도 **TCP 연결은 일정 시간 동안 연결이 유지**된다. 논리적인 연결이므로! 약 75초 정도
- 그래서 서버 개발 시 세션이 물리적 충격이 발생했는지 여부를 확인하는 매커니즘 필요. **keep alive**

아이템 복사 버그

- 철수가 아이템을 바닥에 내려놓은 상태에서 LAN선을 뽑는다. HW는 바로 끊기지만 TCP는 논리적 연결이 유지된다.
- TCP 연결이 살아있는 동안 철수가 아이템을 집는다. 이때 물리적 연결이 끊겨있으므로 이 행위가 네트워크를 통해 전송되지 않는다.
- 영희의 화면에서 바닥에 있는 철수의 아이템을 영희가 줍는다. 그리고 철수가 LAN 케이블을 다시 꼽으면 영희와 철수가 둘다 무기를 들고 있게 된다. 즉, 시스템 안에서 유니크해야하는 무기가 두개 존재하게 되는 버그 발생

→ 성능을 잃지 않으면서 논리적 계층에서 네트워크 충격에 대해 어떻게 대응할 것인지 고민 많이 해야됨!